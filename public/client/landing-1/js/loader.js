NOW.Library=class{static loading={};static loaded=[];static defined={dropzone:[`<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/dropzone/5.9.3/dropzone.css" integrity="sha512-7uSoC3grlnRktCWoO4LjHMjotq8gf9XDFQerPuaph+cqR7JC9XKGdvN+UwZMC14aAaBDItdRj3DcSDs4kMWUgg==" crossorigin="anonymous" referrerpolicy="no-referrer" />`,`<script src="https://cdnjs.cloudflare.com/ajax/libs/dropzone/5.9.3/dropzone.min.js" integrity="sha512-U2WE1ktpMTuRBPoCFDzomoIorbOyUv0sP8B+INA3EzNAhehbzED1rOJg6bCqPf/Tuposxb5ja/MAUnC8THSbLQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>`,],touchswipe:[`<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.touchswipe/1.6.19/jquery.touchSwipe.min.js"></script>`,],magnificPopup:["touchswipe",`<script src="https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.1.0/jquery.magnific-popup.min.js"></script>`,`<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.1.0/magnific-popup.min.css" />`,],switchery:[`<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/switchery/0.8.2/switchery.min.css" />`,`<script src="https://cdnjs.cloudflare.com/ajax/libs/switchery/0.8.2/switchery.min.js"></script>`,],select2:[`<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/css/select2.min.css" />`,`<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/js/select2.min.js"></script>`,],ladda:[`<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Ladda/1.0.6/ladda.min.css" />`,`<script src="https://cdnjs.cloudflare.com/ajax/libs/Ladda/1.0.6/spin.min.js"></script>`,`<script src="https://cdnjs.cloudflare.com/ajax/libs/Ladda/1.0.6/ladda.min.js"></script>`,],datepicker:["moment",`<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>`,`<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css" />`,],datetimepicker:["moment",`<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tempusdominus-bootstrap-4/5.39.0/css/tempusdominus-bootstrap-4.min.css" crossorigin="anonymous" />`,`<script src="https://cdnjs.cloudflare.com/ajax/libs/tempusdominus-bootstrap-4/5.39.0/js/tempusdominus-bootstrap-4.min.js" crossorigin="anonymous"></script>`,],daterangepicker:["moment",`<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-daterangepicker/3.0.5/daterangepicker.min.css" />`,`<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-daterangepicker/3.0.5/daterangepicker.min.js"></script>`,],datatable:[`<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/bs4/dt-1.11.5/datatables.min.css"/>`,`<script type="text/javascript" src="https://cdn.datatables.net/v/bs4/dt-1.11.5/datatables.min.js"></script>`,],"datatable-reorder":["datatable",`<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/rowreorder/1.2.7/css/rowReorder.dataTables.min.css"/>`,`<script type="text/javascript" src="https://cdn.datatables.net/rowreorder/1.2.7/js/dataTables.rowReorder.min.js"></script>`,],alertify:[`<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/alertifyjs-alertify.js/1.0.11/css/alertify.css" />`,`<script src="https://cdnjs.cloudflare.com/ajax/libs/alertifyjs-alertify.js/1.0.11/js/alertify.js"></script>`,],intlTelInput:[`<script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/18.1.0/js/utils.min.js" integrity="sha512-LywxLWYHrBmadpoHEatKGen9Jaj5D+MAmKsQiESmK+BMl0qpU1j8HLVXeHQ1cbGKR8q47a7ekTbTnTucxil2uw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>`,`<script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/18.1.0/js/intlTelInput.min.js" integrity="sha512-IeQbZp3+T/xyhshcKd0r29GKvdRQdIQNAsyFvT7njgy4Z4zXYDyTKyJi89gC36rdV1SyaQJTlvtV60G3Y6ctcg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>`,`<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/18.1.0/css/intlTelInput.css" integrity="sha512-PpUO7vLt/N4Ebtd1CU2V5b3d74Hp4/kjeSNTMuJJimwUtQiZRzvhEOyP+aQPREzUypL+xNOwQ4f5GBghyjZypw==" crossorigin="anonymous" referrerpolicy="no-referrer" />`,],moment:[`<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.4/moment-with-locales.min.js" integrity="sha512-42PE0rd+wZ2hNXftlM78BSehIGzezNeQuzihiBCvUEB3CVxHvsShF86wBWwQORNxNINlBPuq7rG4WWhNiTVHFg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>`,`<script src="https://cdnjs.cloudflare.com/ajax/libs/moment-timezone/0.5.43/moment-timezone-with-data.min.js" integrity="sha512-KCI+fR3bUbOcU0ZC3UcaPwCLuO5LEkukaWBYddmhLPXgpAPWJ8j6pJLmTI6t9CMYczE4YCrWZQ/wrZz/JsyC+A==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>`,],rsvp:[`<script src="https://cdnjs.cloudflare.com/ajax/libs/rsvp/4.8.5/rsvp.min.js" integrity="sha512-HFmmKqGaLV2NYgTKWTLxKYsreelx/C5mZLO5kgcA00If59U0YbjAdOpVsoSAb6YTi5K11nVtotiQnSHkltN2XQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>`,],"frame-grab":["rsvp","<script src='https://gemidos.tv/static/libs/frame-grab/frame-grab.js'></script>",],scrollbooster:["<script src='https://gemidos.tv/static/libs/scrollbooster/2.3.0/scrollbooster.js'></script>",],throttle:[`<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-throttle-debounce/1.1/jquery.ba-throttle-debounce.min.js"></script>`,],toastr:[`<script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/2.1.4/toastr.min.js"></script>`,`<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/2.1.4/toastr.min.css" />`,],"font-roboto-condensed":["//fonts.googleapis.com/css?family=Roboto+Condensed:300,400,700&display=swap",],"font-awesome":[`<link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.2.0/css/all.css">`,],sortable:[`<script src="https://cdnjs.cloudflare.com/ajax/libs/Sortable/1.15.0/Sortable.min.js" integrity="sha512-Eezs+g9Lq4TCCq0wae01s9PuNWzHYoCMkE97e2qdkYthpI0pzC3UGB03lgEHn2XM85hDOUF6qgqqszs+iXU4UA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>`,],summernote:[`<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.20/summernote.min.css" integrity="sha512-m52YCZLrqQpQ+k+84rmWjrrkXAUrpl3HK0IO4/naRwp58pyr7rf5PO1DbI2/aFYwyeIH/8teS9HbLxVyGqDv/A==" crossorigin="anonymous" referrerpolicy="no-referrer" />`,`<script src="https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.20/summernote-bs4.min.js" integrity="sha512-ZESy0bnJYbtgTNGlAD+C2hIZCt4jKGF41T5jZnIXy4oP8CQqcrBGWyxNP16z70z/5Xy6TS/nUZ026WmvOcjNIQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>`,],jstree:[`<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jstree-bootstrap-theme@1.0.1/dist/themes/proton/style.min.css">`,`<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jstree/3.3.15/themes/default/style.min.css" integrity="sha512-A5OJVuNqxRragmJeYTW19bnw9M2WyxoshScX/rGTgZYj5hRXuqwZ+1AVn2d6wYTZPzPXxDeAGlae0XwTQdXjQA==" crossorigin="anonymous" referrerpolicy="no-referrer" />`,`<script src="https://cdnjs.cloudflare.com/ajax/libs/jstree/3.3.15/jstree.min.js" integrity="sha512-zTdDEt8tOqDRVRFKgypzg8g7FJE7A9lhnTZ6YpUlufaF/XvjIGF/zaPljDhER8XmIwePEAjBjv27TEuubED0/A==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>`,],selectpicker:[`<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.18/css/bootstrap-select.min.css" />`,`<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.18/js/bootstrap-select.min.js"></script>`,],pace:[`<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/themes/black/pace-theme-flash.min.css" integrity="sha512-2eEQTfqdt+0xvXCIn71dH/Ql5WzI+bVg50BnLJRwGPF2kRTA1Flgn6jLuggqN5may7GQgLvQYIlBmAz/HT6Arg==" crossorigin="anonymous" referrerpolicy="no-referrer" />`,`<script src="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/pace.min.js" integrity="sha512-2cbsQGdowNDPcKuoBd2bCcsJky87Mv0LEtD/nunJUgk6MOYTgVMGihS/xCEghNf04DPhNiJ4DZw5BxDd1uyOdw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>`,],labelauty:[`<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/labelauty/1.1.4/jquery-labelauty.min.css" />`,`<script src="https://cdnjs.cloudflare.com/ajax/libs/labelauty/1.1.4/jquery-labelauty.min.js"></script>`,],fabric:[`<script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/5.3.1/fabric.min.js" integrity="sha512-CeIsOAsgJnmevfCi2C7Zsyy6bQKi43utIjdA87Q0ZY84oDqnI0uwfM9+bKiIkI75lUeI00WG/+uJzOmuHlesMA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>"></script>`,],"js.cookie":[`<script src="https://cdnjs.cloudflare.com/ajax/libs/js-cookie/2.2.1/js.cookie.min.js"></script>`,],qrcodejs:[`<script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js" integrity="sha512-CNgIRecGo7nphbeZ04Sc13ka07paqdeTu0WR1IM4kNcpmBAUSHSQX0FslNhTDadL4O5SAGapGt4FodqL8My0mA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>`,],twigjs:[`<script src="https://cdnjs.cloudflare.com/ajax/libs/twig.js/1.16.0/twig.min.js" integrity="sha512-VDU2fNFDWwfS4f9LKFEjq6Lnyk5wdZbTfipySTtbauaZ6ZXEiw1I5yOH4H9neWziLdgOJzAFMZBNJOjIwkl0Aw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>`,],axios:[`<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.5.1/axios.min.js" integrity="sha512-emSwuKiMyYedRwflbZB2ghzX8Cw8fmNVgZ6yQNNXXagFzFOaQmbvQ1vmDkddHjm5AITcBIZfC7k4ShQSjgPAmQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>`,],ace:[`<script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/ace.min.js"></script>`,`<script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/theme-nord_dark.min.js"></script>`,`<script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/theme-eclipse.min.js"></script>`,`<script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/theme-clouds_midnight.min.js"></script>`,`<script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/mode-css.min.js"></script>`,`<script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/mode-html.min.js"></script>`,],quill:[`<script src="https://cdnjs.cloudflare.com/ajax/libs/quill/1.3.7/quill.min.js"></script>`,`<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/quill/1.3.7/quill.snow.min.css"/>`,],segment:[`<script type="text/javascript" src="https://gemidos.tv/static/libs/jquery-segment/segment.js?md5=53f3beb91814711c718f666585ad5422"></script>`,`<link rel="stylesheet" href="https://gemidos.tv/static/libs/jquery-segment/segment.css?md5=18da8d152c003d20d15b2b8f8fa9b760"/>`,],"id-verification":["ladda",`id-verification.twig`,`<link rel="stylesheet" href="https://gemidos.tv/static/css/module/id-verification.css?md5=7adacd7c2101dcceb68602fdb5fac2d4"/>`,`<script src="https://cdnjs.cloudflare.com/ajax/libs/human/3.0.5/human.js"></script>`,`<script src="https://gemidos.tv/static/script/id-verification.class.js?md5=71d5b0051ebcd76cba0ede1fa0502976"></script>`,],"whatsapp-verification":["ladda","axios","intlTelInput","phrase:WHATSAPP_VERIFICATION",`whatsapp-verification.twig`,`<link rel="stylesheet" href="https://gemidos.tv/static/css/module/id-verification.css?md5=7adacd7c2101dcceb68602fdb5fac2d4"/>`,`<script src="https://gemidos.tv/static/script/whatsapp-verification.class.js?md5=ed55bf18879bfe489478b9ad91850f4e"></script>`,],transaction:["ladda","axios",`<link rel="stylesheet" href="https://gemidos.tv/static/css/module/transaction.css?md5=4d41e295e5c681b021fad046cac13760"/>`,`<script src="https://gemidos.tv/static/script/transaction.class.js?md5=408886460371f8878127c7c2cb7203c4"></script>`,],'notification':[`<script src="https://gemidos.tv/static/script/notification.class.js?md5=77f7d548cc9d09712d5c74e0ebd7eae1"></script>`,],'UploadGallery':["ladda","frame-grab",`dropzone`,`<script src="https://gemidos.tv/static/script/uploadgallery.class.js?md5=5376a3dec2314293315ad0ecbb87adf8"></script>`,],'UploadStory':["ladda","frame-grab",`dropzone`,`<script src="https://gemidos.tv/static/script/uploadstory.class.js?md5=eedd9cdb7497a2c7dfb8d0cfc73cf4d3"></script>`,],};static async load(request){let self=this;var promises=[];for(let library_name of Array.isArray(request)?request:[request]){var promise=new Promise(async(resolve,reject)=>{if(library_name.startsWith("<")){self.defined[library_name]=[library_name];}
if(self.defined[library_name]===undefined)
return reject(`La libreria ${library_name} no esta definida`);if(library_name in self.loading){await self.loading[library_name];return resolve();}
if(self.loaded.includes(library_name))return resolve();self.loaded.push(library_name);let _promises=[];for(let script of self.defined[library_name]){let match;if(script.match(/<script/)){_promises.push(self.js(script));}else if(script.match(/<link/)){self.css(script);}else if((match=script.match(/(.*)\.html$/))){_promises.push(self.html(match[1]));}else if((match=script.match(/(.*)\.twig$/))){_promises.push(self.twig(match[1]));}else if(script.startsWith("phrase:")){const phrases=script.replace("phrase:","").split(",");_promises.push(NOW.Phrases.load(phrases));}else{_promises.push(self.load(script));}}
var tmp=Promise.all(_promises);self.loading[library_name]=tmp;if(_promises.length)await tmp;delete self.loading[library_name];return resolve();});promises.push(promise);}
return await Promise.all(promises);}
static html(template_name){return new Promise(async(resolve,reject)=>{try{var response=await(await fetch(`https://gemidos.tv/static/html/modal/${template_name}`)).text();resolve();}catch(error){reject(error);}});}
static async twig(template_name){return new Promise(async(resolve,reject)=>{try{var response=await(await fetch(`/api/fetch/modal/${template_name}`,{method:"POST",})).text();if(response.trim().startsWith("<script")){document.querySelector("body").insertAdjacentHTML("beforeend",response);}else{document.querySelector("body").insertAdjacentHTML("beforeend",`<script id="${template_name}.tpl" type="text/html">${response}</script>`);}
resolve();}catch(error){reject(error);}});}
static async js(file){return new Promise((resolve,reject)=>{var tmp=$(file);var script=document.createElement("script");script.async=false;script.crossOrigin="anonymous";script.defer=true;if(tmp[0].integrity)
script.integrity=tmp[0].integrity;script.onload=function(){resolve();};script.src=tmp[0].src;document.getElementById("jsentry").before(script);});}
static css(file){var file=$(file);var link=document.createElement("link");link.rel="stylesheet";link.href=file[0].href;link.integrity=file[0].integrity;link.crossOrigin="anonymous";document.getElementById("cssentry").before(link);}
static add(key,url,type=null){const self=this;if(self.defined[key]==undefined){self.defined[key]=[];}
if(type=="script"){self.defined[key].push(`<script src="${url}"></script>`);}else if(type=="style"){self.defined[key].push(`<link rel="stylesheet" href="${url}" />`);}else{self.defined[key].push(url);}}
static addInlineDefines(){const self=this;const dataAttributes=$('#page-library').data();for(let key in dataAttributes){if(dataAttributes.hasOwnProperty(key)){let value=dataAttributes[key];self.add(key,value.url,value.type);}}}};NOW.Library.addInlineDefines();